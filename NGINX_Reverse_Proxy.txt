Akses Ke Banyak Aplikasi Backend Lewat Satu Pintu | REAL CASE !!!

/**
* Pudin S Ilham
* pudin.alazhar@gmail.com
**/

Install NGINX
# sudo apt install nginx

Cek sudah running atau belum
# sudo systemctl status nginx

Pindah ke folder konfigurasi
# cd /etc/nginx/sites-available

Kita hapus konfigurasi default (optional)
# sudo rm -rf default
# sudo rm -rf ../sites-enabled/default

Jangan lupa arahkan domain ke server reverse proxy
Buat file konfigurasi baru di folder tadi untuk domain yang tadi sudah di arahkan
# nano contoh1pudin

buat file konfigurasi seperti di bawah ini :
server{
  listen 80;
  server_name contoh1.pudin.my.id;
  location / {
    proxy_pass http://192.168.20.3:8080;
  }
}

versi lengkap, menyembunyikan informasi server lokal
server{
  listen 80;
  server_name contoh1.pudin.my.id;
  location / {
    proxy_pass http://192.168.20.3:8080;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-proto $scheme;
  }
}

Save dan exit
Control X, Y, Enter.

setelah selesai, buat symbilik link, perhatikan dibawah ini
# sudo ln -s /etc/nginx/sites-available/contoh1pudin /etc/nginx/sites-enabled/

Cek konfigurasi nginx, apakah ada error
# sudo nginx -t

Selanjutnya restart
# sudo systemctl restart nginx


INDEX NGINX
============
                                                  
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>






##==========================================================================================##
